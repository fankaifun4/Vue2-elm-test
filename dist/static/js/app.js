webpackJsonp([3],{"2Mud":function(t,e){},"48Cz":function(t,e){},IhLR:function(t,e){},"Lm/y":function(t,e){},NHnr:function(t,e,n){"use strict";function s(t){n("xxqs")}function i(t){n("IhLR")}function a(t){n("48Cz")}function o(t){n("P0OH")}function r(t){n("2Mud")}function c(t){n("bVfe")}function u(t){n("Lm/y")}function l(t){n("o4Ct")}function m(t){n("T569")}Object.defineProperty(e,"__esModule",{value:!0});var d=n("5vqR"),h=n("2sCs"),f=n.n(h),v={name:"app",data:function(){return{transitionName:"router-pop-out"}},watch:{$route:function(t,e){var n=t.path.split("/").length,s=e.path.split("/").length;console.log(),this.transitionName=n<s?"router-pop-out":"router-pop-in"}}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.transitionName}},[n("router-view")],1)],1)},p=[],_={render:g,staticRenderFns:p},C=_,M=n("/Xao"),x=s,y=M(v,C,!1,x,null,null),b=y.exports,S=n("zO6J"),E=n("lC5x"),$=n.n(E),w=n("J0Oq"),L=n.n(w),k=n("4YfN"),F=n.n(k),I=n("9rMa"),N={name:"vonther",props:["icon","msg","name","url"],data:function(){return{msgs:{icon:"",msg:"",name:"",url:""}}}},R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msg-wrap-onther"},[n("div",{staticClass:"onther-icon"},[n("img",{attrs:{src:t.icon,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-other"},[n("div",{staticClass:"onther-ji"}),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(t.msg)),n("a",{attrs:{href:t.url}},[t._v(t._s(t.url))])])])])},P=[],B={render:R,staticRenderFns:P},T=B,G=n("/Xao"),H=i,q=G(N,T,!1,H,"data-v-7d89f419",null),A=q.exports,O={name:"vuserMsg",props:["icon","msg","name"],data:function(){return{userMsgs:{icon:"",msg:"",name:""}}},mounted:function(){this.userMsgs.msg=this.msg,this.userMsgs.name=this.name,this.userMsgs.icon=this.icon}},X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"msg-wrap-user"},[n("div",{staticClass:"msg-user"},[n("div",{staticClass:"msg-content"},[t._v(t._s(t.userMsgs.msg))]),t._v(" "),n("div",{staticClass:"user-ji"})]),t._v(" "),n("div",{staticClass:"user-icon"},[n("img",{attrs:{src:t.userMsgs.icon,alt:""}})])])},j=[],z={render:X,staticRenderFns:j},V=z,U=n("/Xao"),D=a,J=U(O,V,!1,D,"data-v-abcfd7dc",null),Q=J.exports,Y={name:"vHeader",data:function(){return{}},mounted:function(){},methods:{goPath:function(){this.$store.dispatch("changeNav","homeMsg"),this.$router.push("/vx/home")}}},K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"titles"},[n("div",{staticClass:"iconfont icon-prev",on:{click:t.goPath}}),t._v(" "),n("div",[t._v(t._s(this.$route.query.name))])]),t._v(" "),t._m(0)])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"find-set"},[n("div",{staticClass:"find iconfont icon-tubiao-copy"}),t._v(" "),n("div",{staticClass:"set iconfont icon-jia1"})])}],Z={render:K,staticRenderFns:W},tt=Z,et=n("/Xao"),nt=o,st=et(Y,tt,!1,nt,"data-v-2dc8820d",null),it=st.exports,at={name:"vFooter",data:function(){return{msg:"",isSend:!1}},mounted:function(){},methods:{sendMsg:function(){0!=this.msg.length&&""!=this.msg&&(this.$emit("sendMsg",this.msg),this.msg="",this.$refs.input.focus())}},watch:{msg:function(){this.msg.length>0||""!=this.msg?this.isSend=!0:this.isSend=!1}}},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"msg-box",domProps:{value:t.msg},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.sendMsg(e)},input:function(e){e.target.composing||(t.msg=e.target.value)}}}),t._v(" "),n("div",{staticClass:"iconfont  icon-xiaolian",on:{click:t.sendMsg}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isSend,expression:"!isSend"}],staticClass:"iconfont  icon-add_c",on:{click:t.sendMsg}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isSend,expression:"isSend"}],staticClass:"send-msg",on:{click:t.sendMsg}},[t._v("发送")])])},rt=[],ct={render:ot,staticRenderFns:rt},ut=ct,lt=n("/Xao"),mt=r,dt=lt(at,ut,!1,mt,"data-v-31198a5a",null),ht=dt.exports,ft={name:"vsendMsg",data:function(){return{msg:[],rootmsg:"",msgBodyId:this.$route.query.id}},components:{rootMsg:A,userMsg:Q,vHeader:it,vFooter:ht},updated:function(){this.$nextTick(function(){var t=this.$refs.contentBody;t.scrollTop=t.scrollHeight})},mounted:function(){var t=this;if(this.store.dispatch("setUser","fankx"),this.msgLog.some(function(e,n,s){return e.name==t.msgBodyId})){for(var e=this.msgLog,n=0;n<e.length;n++)if(e[n].name==this.msgBodyId){e[n].msg.length<=10?this.msg=e[n].msg:this.msg=e[n].msg.slice(-10);break}}else{var s={name:this.msgBodyId,msg:[]};this.store.dispatch("toMsgLog",s),this.postMsg("/api","hello")}},computed:F()({},Object(I.c)(["userId","msgLog","userIcon"]),Object(I.b)(["setUser","toMsgLog","insertMSG"]),{store:function(){return this.$store}}),methods:{sendMsgs:function(t){this.userMsgBody(t,this.msgBodyId),this.postMsg("/api",t)},postMsg:function(t,e){var n=this;return L()($.a.mark(function s(){var i;return $.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.send(t,e);case 2:i=s.sent,n.roobyMsgBody(i,n.msgBodyId);case 4:case"end":return s.stop()}},s,n)}))()},send:function(t,e){return this.$http.post(t,{key:"91fac65ebd2d4ae39f57b5af071326ae",info:e||"",userId:this.userId}).then(function(t){if(t.status)return t.data})},userMsgBody:function(t,e){var n={component:"user-msg",msg:t,icon:this.$route.query.userIcon,name:this.userId};this.msg.push(n),this.store.dispatch("insertMSG",{name:e,msgBody:n})},roobyMsgBody:function(t,e){var n={component:"root-msg",msg:t.text,url:t.url||"",icon:this.$route.query.icon,name:"robby"};this.msg.push(n),this.store.dispatch("insertMSG",{name:e,msgBody:n})}}},vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("v-header"),t._v(" "),n("section",{ref:"contentBody",staticClass:"content"},[n("div",t._l(t.msg,function(t,e){return n(t.component,{key:e,tag:"div",attrs:{icon:t.icon,url:t.url,msg:t.msg,name:t.name}})}))]),t._v(" "),n("v-footer",{on:{sendMsg:t.sendMsgs}})],1)},gt=[],pt={render:vt,staticRenderFns:gt},_t=pt,Ct=n("/Xao"),Mt=c,xt=Ct(ft,_t,!1,Mt,"data-v-3b63b7b0",null),yt=xt.exports,bt={name:"pageSendMsg",data:function(){return{}},components:{sendMsg:yt}},St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("send-msg")],1)},Et=[],$t={render:St,staticRenderFns:Et},wt=$t,Lt=n("/Xao"),kt=Lt(bt,wt,!1,null,null,null),Ft=kt.exports,It={name:"vhHeader",data:function(){return{}}},Nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"titles"},[n("div",[t._v("迷你微信（1）")])]),t._v(" "),n("div",{staticClass:"find-set"},[n("div",{staticClass:"find iconfont icon-tubiao-copy"}),t._v(" "),n("div",{staticClass:"set iconfont icon-jia1"})])])}],Pt={render:Nt,staticRenderFns:Rt},Bt=Pt,Tt=n("/Xao"),Gt=u,Ht=Tt(It,Bt,!1,Gt,"data-v-703a6aec",null),qt=Ht.exports,At={props:["changePath","states"],data:function(){return{cur:"homeMsg"}},mounted:function(){var t=this.$store.state.navSelect;this.cur=t},computed:{navSelect:function(){return this.$store.state.navSelect}},methods:{goPath:function(t,e){this.$emit("changePath",t,e)}},watch:{navSelect:function(){var t=this.navSelect;this.cur=t}}},Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-wrap"},[n("ul",{staticClass:"nav"},[n("li",{on:{click:function(e){t.goPath("/vx/home","homeMsg")}}},[n("p",{staticClass:"iconfont icon-qipao",class:{on:"homeMsg"==t.cur}}),t._v(" "),n("p",{staticClass:"icondes",class:{on:"homeMsg"==t.cur}},[t._v("微信")])]),t._v(" "),n("li",{on:{click:function(e){t.goPath("/vx/list/mail-list","mailList")}}},[n("p",{staticClass:"iconfont icon-tongxunlu1",class:{on:"mailList"==t.cur}}),t._v(" "),n("p",{staticClass:"icondes",class:{on:"mailList"==t.cur}},[t._v("通讯录")])]),t._v(" "),n("li",{on:{click:function(e){t.goPath("/vx/list/find","find")}}},[n("p",{staticClass:"iconfont icon-iconcopy",class:{on:"find"==t.cur}}),t._v(" "),n("p",{staticClass:"icondes",class:{on:"find"==t.cur}},[t._v("发现")])]),t._v(" "),n("li",{on:{click:function(e){t.goPath("/vx/list/me","me")}}},[n("p",{staticClass:"iconfont icon-iconfontyonghu",class:{on:"me"==t.cur}}),t._v(" "),n("p",{staticClass:"icondes",class:{on:"me"==t.cur}},[t._v("我")])])])])},Xt=[],jt={render:Ot,staticRenderFns:Xt},zt=jt,Vt=n("/Xao"),Ut=l,Dt=Vt(At,zt,!1,Ut,"data-v-c62e6d80",null),Jt=Dt.exports,Qt={name:"pageHome",data:function(){return{linkChange:"linkChange",selectNav:this.$store.state.navSelect}},components:{vhHeader:qt,vhfooterRouteNav:Jt},methods:{changePath:function(t,e){this.$store.dispatch("changeNav",e),this.$router.push(t)}}},Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-container"},[n("vh-header"),t._v(" "),n("transition",{attrs:{name:"list-body",mode:"out-in"}},[n("router-view")],1),t._v(" "),n("vhfooter-route-nav",{attrs:{states:t.selectNav},on:{changePath:t.changePath}})],1)},Kt=[],Wt={render:Yt,staticRenderFns:Kt},Zt=Wt,te=n("/Xao"),ee=m,ne=te(Qt,Zt,!1,ee,"data-v-36a68a33",null),se=ne.exports;d.a.use(S.a);var ie,ae=new S.a({routes:[{path:"/vx",component:se,children:[{path:"home",name:"homeMsg",default:!0,component:function(t){return n.e(0).then(function(){return n("DiCr")}.bind(null,n)).catch(n.oe)}},{path:"list/mail-list",name:"mailList",component:function(t){return n.e(0).then(function(){return n("uWQK")}.bind(null,n)).catch(n.oe)}}]},{path:"/vx/asend",name:"asend",component:Ft},{path:"/vx/detail",name:"detial",component:function(t){return n.e(0).then(function(){return n("yZ3x")}.bind(null,n)).catch(n.oe)}},{path:"*",redirect:"/vx/home"}]}),oe={setUser:function(t,e){(0,t.commit)("SETUSER",e)},toMsgLog:function(t,e){(0,t.commit)("MSGLOG",e)},insertMSG:function(t,e){(0,t.commit)("INSERTMSG",e)},changeNav:function(t,e){(0,t.commit)("CHANGENAV",e)},deleteMsg:function(t,e){(0,t.commit)("DELETEMSG",e)}},re=n("a3Yh"),ce=n.n(re),ue=(ie={},ce()(ie,"SETUSER",function(t,e){t.userId=e}),ce()(ie,"MSGLOG",function(t,e){t.msgLog.push(e)}),ce()(ie,"INSERTMSG",function(t,e){var n=t.msgLog;if(!(n.length<1))for(var s=0;s<n.length;s++)if(n[s].name==e.name){var i=n[s];i.msg.push(e.msgBody);break}}),ce()(ie,"CHANGENAV",function(t,e){t.navSelect=e}),ce()(ie,"DELETEMSG",function(t,e){t.msgLog.forEach(function(t,n){(t.name=e)&&(t.msg=[])})}),ie);d.a.use(I.a);var le={userId:"",userIcon:"",navSelect:"homeMsg",msgLog:[]},me=new I.a.Store({state:le,mutations:ue,actions:oe});n("hQIm");n.e(1).then(n.bind(null,"7FJ3")),d.a.config.productionTip=!1,d.a.prototype.$http=f.a,new d.a({el:"#app",store:me,router:ae,template:"<App/>",components:{App:b}})},P0OH:function(t,e){},T569:function(t,e){},bVfe:function(t,e){},hQIm:function(t,e){!function(t,e){function n(){var e=a.getBoundingClientRect().width;e/c>540&&(e=540*c);var n=e/10;a.style.fontSize=n+"px",l.rem=t.rem=n}var s,i=t.document,a=i.documentElement,o=i.querySelector('meta[name="viewport"]'),r=i.querySelector('meta[name="flexible"]'),c=0,u=0,l=e.flexible||(e.flexible={});if(o){console.warn("将根据已有的meta标签来设置缩放比例");var m=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/);m&&(u=parseFloat(m[1]),c=parseInt(1/u))}else if(r){var d=r.getAttribute("content");if(d){var h=d.match(/initial\-dpr=([\d\.]+)/),f=d.match(/maximum\-dpr=([\d\.]+)/);h&&(c=parseFloat(h[1]),u=parseFloat((1/c).toFixed(2))),f&&(c=parseFloat(f[1]),u=parseFloat((1/c).toFixed(2)))}}if(!c&&!u){var v=(t.navigator.appVersion.match(/android/gi),t.navigator.appVersion.match(/iphone/gi)),g=t.devicePixelRatio;c=v?g>=3&&(!c||c>=3)?3:g>=2&&(!c||c>=2)?2:1:1,u=1/c}if(a.setAttribute("data-dpr",c),!o)if(o=i.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+u+", maximum-scale="+u+", minimum-scale="+u+", user-scalable=no"),a.firstElementChild)a.firstElementChild.appendChild(o);else{var p=i.createElement("div");p.appendChild(o),i.write(p.innerHTML)}t.addEventListener("resize",function(){clearTimeout(s),s=setTimeout(n,300)},!1),t.addEventListener("pageshow",function(t){t.persisted&&(clearTimeout(s),s=setTimeout(n,300))},!1),"complete"===i.readyState?i.body.style.fontSize=12*c+"px":i.addEventListener("DOMContentLoaded",function(t){i.body.style.fontSize=12*c+"px"},!1),n(),l.dpr=t.dpr=c,l.refreshRem=n,l.rem2px=function(t){var e=parseFloat(t)*this.rem;return"string"==typeof t&&t.match(/rem$/)&&(e+="px"),e},l.px2rem=function(t){var e=parseFloat(t)/this.rem;return"string"==typeof t&&t.match(/px$/)&&(e+="rem"),e}}(window,window.lib||(window.lib={}))},o4Ct:function(t,e){},xxqs:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.js.map